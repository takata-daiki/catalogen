[@0,800:806='package',<'package'>,20:0]
[@1,808:810='org',<Identifier>,20:8]
[@2,811:811='.',<'.'>,20:11]
[@3,812:823='geometerplus',<Identifier>,20:12]
[@4,824:824='.',<'.'>,20:24]
[@5,825:832='fbreader',<Identifier>,20:25]
[@6,833:833='.',<'.'>,20:33]
[@7,834:840='formats',<Identifier>,20:34]
[@8,841:841='.',<'.'>,20:41]
[@9,842:846='xhtml',<Identifier>,20:42]
[@10,847:847=';',<';'>,20:47]
[@11,850:855='import',<'import'>,22:0]
[@12,857:859='org',<Identifier>,22:7]
[@13,860:860='.',<'.'>,22:10]
[@14,861:872='geometerplus',<Identifier>,22:11]
[@15,873:873='.',<'.'>,22:23]
[@16,874:881='zlibrary',<Identifier>,22:24]
[@17,882:882='.',<'.'>,22:32]
[@18,883:886='core',<Identifier>,22:33]
[@19,887:887='.',<'.'>,22:37]
[@20,888:890='xml',<Identifier>,22:38]
[@21,891:891='.',<'.'>,22:41]
[@22,892:902='ZLStringMap',<Identifier>,22:42]
[@23,903:903=';',<';'>,22:53]
[@24,905:910='import',<'import'>,23:0]
[@25,912:914='org',<Identifier>,23:7]
[@26,915:915='.',<'.'>,23:10]
[@27,916:927='geometerplus',<Identifier>,23:11]
[@28,928:928='.',<'.'>,23:23]
[@29,929:936='zlibrary',<Identifier>,23:24]
[@30,937:937='.',<'.'>,23:32]
[@31,938:941='core',<Identifier>,23:33]
[@32,942:942='.',<'.'>,23:37]
[@33,943:946='util',<Identifier>,23:38]
[@34,947:947='.',<'.'>,23:42]
[@35,948:959='ZLArrayUtils',<Identifier>,23:43]
[@36,960:960=';',<';'>,23:55]
[@37,963:968='import',<'import'>,25:0]
[@38,970:972='org',<Identifier>,25:7]
[@39,973:973='.',<'.'>,25:10]
[@40,974:985='geometerplus',<Identifier>,25:11]
[@41,986:986='.',<'.'>,25:23]
[@42,987:994='fbreader',<Identifier>,25:24]
[@43,995:995='.',<'.'>,25:32]
[@44,996:1004='bookmodel',<Identifier>,25:33]
[@45,1005:1005='.',<'.'>,25:42]
[@46,1006:1006='*',<'*'>,25:43]
[@47,1007:1007=';',<';'>,25:44]
[@48,1010:1014='class',<'class'>,27:0]
[@49,1016:1038='XHTMLTagHyperlinkAction',<Identifier>,27:6]
[@50,1040:1046='extends',<'extends'>,27:30]
[@51,1048:1061='XHTMLTagAction',<Identifier>,27:38]
[@52,1063:1063='{',<'{'>,27:53]
[@53,1066:1072='private',<'private'>,28:1]
[@54,1074:1077='byte',<'byte'>,28:9]
[@55,1078:1078='[',<'['>,28:13]
[@56,1079:1079=']',<']'>,28:14]
[@57,1081:1096='myHyperlinkStack',<Identifier>,28:16]
[@58,1098:1098='=',<'='>,28:33]
[@59,1100:1102='new',<'new'>,28:35]
[@60,1104:1107='byte',<'byte'>,28:39]
[@61,1108:1108='[',<'['>,28:43]
[@62,1109:1110='10',<IntegerLiteral>,28:44]
[@63,1111:1111=']',<']'>,28:46]
[@64,1112:1112=';',<';'>,28:47]
[@65,1115:1121='private',<'private'>,29:1]
[@66,1123:1125='int',<'int'>,29:9]
[@67,1127:1146='myHyperlinkStackSize',<Identifier>,29:13]
[@68,1147:1147=';',<';'>,29:33]
[@69,1151:1157='private',<'private'>,31:1]
[@70,1159:1164='static',<'static'>,31:9]
[@71,1166:1172='boolean',<'boolean'>,31:16]
[@72,1174:1184='isReference',<Identifier>,31:24]
[@73,1185:1185='(',<'('>,31:35]
[@74,1186:1191='String',<Identifier>,31:36]
[@75,1193:1196='text',<Identifier>,31:43]
[@76,1197:1197=')',<')'>,31:47]
[@77,1199:1199='{',<'{'>,31:49]
[@78,1203:1208='return',<'return'>,32:2]
[@79,1213:1216='text',<Identifier>,33:3]
[@80,1217:1217='.',<'.'>,33:7]
[@81,1218:1227='startsWith',<Identifier>,33:8]
[@82,1228:1228='(',<'('>,33:18]
[@83,1229:1248='"fbreader-action://"',<StringLiteral>,33:19]
[@84,1249:1249=')',<')'>,33:39]
[@85,1251:1252='||',<'||'>,33:41]
[@86,1257:1260='text',<Identifier>,34:3]
[@87,1261:1261='.',<'.'>,34:7]
[@88,1262:1271='startsWith',<Identifier>,34:8]
[@89,1272:1272='(',<'('>,34:18]
[@90,1273:1281='"http://"',<StringLiteral>,34:19]
[@91,1282:1282=')',<')'>,34:28]
[@92,1284:1285='||',<'||'>,34:30]
[@93,1290:1293='text',<Identifier>,35:3]
[@94,1294:1294='.',<'.'>,35:7]
[@95,1295:1304='startsWith',<Identifier>,35:8]
[@96,1305:1305='(',<'('>,35:18]
[@97,1306:1315='"https://"',<StringLiteral>,35:19]
[@98,1316:1316=')',<')'>,35:29]
[@99,1318:1319='||',<'||'>,35:31]
[@100,1324:1327='text',<Identifier>,36:3]
[@101,1328:1328='.',<'.'>,36:7]
[@102,1329:1338='startsWith',<Identifier>,36:8]
[@103,1339:1339='(',<'('>,36:18]
[@104,1340:1348='"mailto:"',<StringLiteral>,36:19]
[@105,1349:1349=')',<')'>,36:28]
[@106,1351:1352='||',<'||'>,36:30]
[@107,1357:1360='text',<Identifier>,37:3]
[@108,1361:1361='.',<'.'>,37:7]
[@109,1362:1371='startsWith',<Identifier>,37:8]
[@110,1372:1372='(',<'('>,37:18]
[@111,1373:1380='"ftp://"',<StringLiteral>,37:19]
[@112,1381:1381=')',<')'>,37:27]
[@113,1382:1382=';',<';'>,37:28]
[@114,1385:1385='}',<'}'>,38:1]
[@115,1389:1397='protected',<'protected'>,40:1]
[@116,1399:1402='void',<'void'>,40:11]
[@117,1404:1412='doAtStart',<Identifier>,40:16]
[@118,1413:1413='(',<'('>,40:25]
[@119,1414:1424='XHTMLReader',<Identifier>,40:26]
[@120,1426:1431='reader',<Identifier>,40:38]
[@121,1432:1432=',',<','>,40:44]
[@122,1434:1444='ZLStringMap',<Identifier>,40:46]
[@123,1446:1458='xmlattributes',<Identifier>,40:58]
[@124,1459:1459=')',<')'>,40:71]
[@125,1461:1461='{',<'{'>,40:73]
[@126,1465:1469='final',<'final'>,41:2]
[@127,1471:1480='BookReader',<Identifier>,41:8]
[@128,1482:1492='modelReader',<Identifier>,41:19]
[@129,1494:1494='=',<'='>,41:31]
[@130,1496:1501='reader',<Identifier>,41:33]
[@131,1502:1502='.',<'.'>,41:39]
[@132,1503:1516='getModelReader',<Identifier>,41:40]
[@133,1517:1517='(',<'('>,41:54]
[@134,1518:1518=')',<')'>,41:55]
[@135,1519:1519=';',<';'>,41:56]
[@136,1523:1527='final',<'final'>,42:2]
[@137,1529:1534='String',<Identifier>,42:8]
[@138,1536:1539='href',<Identifier>,42:15]
[@139,1541:1541='=',<'='>,42:20]
[@140,1543:1555='xmlattributes',<Identifier>,42:22]
[@141,1556:1556='.',<'.'>,42:35]
[@142,1557:1564='getValue',<Identifier>,42:36]
[@143,1565:1565='(',<'('>,42:44]
[@144,1566:1571='"href"',<StringLiteral>,42:45]
[@145,1572:1572=')',<')'>,42:51]
[@146,1573:1573=';',<';'>,42:52]
[@147,1577:1578='if',<'if'>,43:2]
[@148,1580:1580='(',<'('>,43:5]
[@149,1581:1600='myHyperlinkStackSize',<Identifier>,43:6]
[@150,1602:1603='==',<'=='>,43:27]
[@151,1605:1620='myHyperlinkStack',<Identifier>,43:30]
[@152,1621:1621='.',<'.'>,43:46]
[@153,1622:1627='length',<Identifier>,43:47]
[@154,1628:1628=')',<')'>,43:53]
[@155,1630:1630='{',<'{'>,43:55]
[@156,1635:1650='myHyperlinkStack',<Identifier>,44:3]
[@157,1652:1652='=',<'='>,44:20]
[@158,1654:1665='ZLArrayUtils',<Identifier>,44:22]
[@159,1666:1666='.',<'.'>,44:34]
[@160,1667:1676='createCopy',<Identifier>,44:35]
[@161,1677:1677='(',<'('>,44:45]
[@162,1678:1693='myHyperlinkStack',<Identifier>,44:46]
[@163,1694:1694=',',<','>,44:62]
[@164,1696:1715='myHyperlinkStackSize',<Identifier>,44:64]
[@165,1716:1716=',',<','>,44:84]
[@166,1718:1718='2',<IntegerLiteral>,44:86]
[@167,1720:1720='*',<'*'>,44:88]
[@168,1722:1741='myHyperlinkStackSize',<Identifier>,44:90]
[@169,1742:1742=')',<')'>,44:110]
[@170,1743:1743=';',<';'>,44:111]
[@171,1747:1747='}',<'}'>,45:2]
[@172,1751:1752='if',<'if'>,46:2]
[@173,1754:1754='(',<'('>,46:5]
[@174,1755:1755='(',<'('>,46:6]
[@175,1756:1759='href',<Identifier>,46:7]
[@176,1761:1762='!=',<'!='>,46:12]
[@177,1764:1767='null',<'null'>,46:15]
[@178,1768:1768=')',<')'>,46:19]
[@179,1770:1771='&&',<'&&'>,46:21]
[@180,1773:1773='(',<'('>,46:24]
[@181,1774:1777='href',<Identifier>,46:25]
[@182,1778:1778='.',<'.'>,46:29]
[@183,1779:1784='length',<Identifier>,46:30]
[@184,1785:1785='(',<'('>,46:36]
[@185,1786:1786=')',<')'>,46:37]
[@186,1788:1788='>',<'>'>,46:39]
[@187,1790:1790='0',<IntegerLiteral>,46:41]
[@188,1791:1791=')',<')'>,46:42]
[@189,1792:1792=')',<')'>,46:43]
[@190,1794:1794='{',<'{'>,46:45]
[@191,1799:1804='String',<Identifier>,47:3]
[@192,1806:1809='link',<Identifier>,47:10]
[@193,1811:1811='=',<'='>,47:15]
[@194,1813:1816='href',<Identifier>,47:17]
[@195,1817:1817=';',<';'>,47:21]
[@196,1822:1826='final',<'final'>,48:3]
[@197,1828:1831='byte',<'byte'>,48:9]
[@198,1833:1845='hyperlinkType',<Identifier>,48:14]
[@199,1846:1846=';',<';'>,48:27]
[@200,1851:1852='if',<'if'>,49:3]
[@201,1854:1854='(',<'('>,49:6]
[@202,1855:1865='isReference',<Identifier>,49:7]
[@203,1866:1866='(',<'('>,49:18]
[@204,1867:1870='link',<Identifier>,49:19]
[@205,1871:1871=')',<')'>,49:23]
[@206,1872:1872=')',<')'>,49:24]
[@207,1874:1874='{',<'{'>,49:26]
[@208,1880:1892='hyperlinkType',<Identifier>,50:4]
[@209,1894:1894='=',<'='>,50:18]
[@210,1896:1905='FBTextKind',<Identifier>,50:20]
[@211,1906:1906='.',<'.'>,50:30]
[@212,1907:1924='EXTERNAL_HYPERLINK',<Identifier>,50:31]
[@213,1925:1925=';',<';'>,50:49]
[@214,1930:1930='}',<'}'>,51:3]
[@215,1932:1935='else',<'else'>,51:5]
[@216,1937:1937='{',<'{'>,51:10]
[@217,1943:1955='hyperlinkType',<Identifier>,52:4]
[@218,1957:1957='=',<'='>,52:18]
[@219,1959:1968='FBTextKind',<Identifier>,52:20]
[@220,1969:1969='.',<'.'>,52:30]
[@221,1970:1987='INTERNAL_HYPERLINK',<Identifier>,52:31]
[@222,1988:1988=';',<';'>,52:49]
[@223,1994:1998='final',<'final'>,53:4]
[@224,2000:2002='int',<'int'>,53:10]
[@225,2004:2008='index',<Identifier>,53:14]
[@226,2010:2010='=',<'='>,53:20]
[@227,2012:2015='href',<Identifier>,53:22]
[@228,2016:2016='.',<'.'>,53:26]
[@229,2017:2023='indexOf',<Identifier>,53:27]
[@230,2024:2024='(',<'('>,53:34]
[@231,2025:2027=''#'',<CharacterLiteral>,53:35]
[@232,2028:2028=')',<')'>,53:38]
[@233,2029:2029=';',<';'>,53:39]
[@234,2035:2036='if',<'if'>,54:4]
[@235,2038:2038='(',<'('>,54:7]
[@236,2039:2043='index',<Identifier>,54:8]
[@237,2045:2046='==',<'=='>,54:14]
[@238,2048:2048='0',<IntegerLiteral>,54:17]
[@239,2049:2049=')',<')'>,54:18]
[@240,2051:2051='{',<'{'>,54:20]
[@241,2058:2061='link',<Identifier>,55:5]
[@242,2063:2063='=',<'='>,55:10]
[@243,2065:2070='reader',<Identifier>,55:12]
[@244,2071:2071='.',<'.'>,55:18]
[@245,2072:2088='myReferencePrefix',<Identifier>,55:19]
[@246,2090:2090='+',<'+'>,55:37]
[@247,2092:2095='href',<Identifier>,55:39]
[@248,2096:2096='.',<'.'>,55:43]
[@249,2097:2105='substring',<Identifier>,55:44]
[@250,2106:2106='(',<'('>,55:53]
[@251,2107:2107='1',<IntegerLiteral>,55:54]
[@252,2108:2108=')',<')'>,55:55]
[@253,2109:2109=';',<';'>,55:56]
[@254,2115:2115='}',<'}'>,56:4]
[@255,2117:2120='else',<'else'>,56:6]
[@256,2122:2123='if',<'if'>,56:11]
[@257,2125:2125='(',<'('>,56:14]
[@258,2126:2130='index',<Identifier>,56:15]
[@259,2132:2132='>',<'>'>,56:21]
[@260,2134:2134='0',<IntegerLiteral>,56:23]
[@261,2135:2135=')',<')'>,56:24]
[@262,2137:2137='{',<'{'>,56:26]
[@263,2144:2147='link',<Identifier>,57:5]
[@264,2149:2149='=',<'='>,57:10]
[@265,2151:2156='reader',<Identifier>,57:12]
[@266,2157:2157='.',<'.'>,57:18]
[@267,2158:2169='getFileAlias',<Identifier>,57:19]
[@268,2170:2170='(',<'('>,57:31]
[@269,2171:2176='reader',<Identifier>,57:32]
[@270,2177:2177='.',<'.'>,57:38]
[@271,2178:2194='myLocalPathPrefix',<Identifier>,57:39]
[@272,2196:2196='+',<'+'>,57:57]
[@273,2198:2201='href',<Identifier>,57:59]
[@274,2202:2202='.',<'.'>,57:63]
[@275,2203:2211='substring',<Identifier>,57:64]
[@276,2212:2212='(',<'('>,57:73]
[@277,2213:2213='0',<IntegerLiteral>,57:74]
[@278,2214:2214=',',<','>,57:75]
[@279,2216:2220='index',<Identifier>,57:77]
[@280,2221:2221=')',<')'>,57:82]
[@281,2222:2222=')',<')'>,57:83]
[@282,2224:2224='+',<'+'>,57:85]
[@283,2226:2229='href',<Identifier>,57:87]
[@284,2230:2230='.',<'.'>,57:91]
[@285,2231:2239='substring',<Identifier>,57:92]
[@286,2240:2240='(',<'('>,57:101]
[@287,2241:2245='index',<Identifier>,57:102]
[@288,2246:2246=')',<')'>,57:107]
[@289,2247:2247=';',<';'>,57:108]
[@290,2253:2253='}',<'}'>,58:4]
[@291,2255:2258='else',<'else'>,58:6]
[@292,2260:2260='{',<'{'>,58:11]
[@293,2267:2270='link',<Identifier>,59:5]
[@294,2272:2272='=',<'='>,59:10]
[@295,2274:2279='reader',<Identifier>,59:12]
[@296,2280:2280='.',<'.'>,59:18]
[@297,2281:2292='getFileAlias',<Identifier>,59:19]
[@298,2293:2293='(',<'('>,59:31]
[@299,2294:2299='reader',<Identifier>,59:32]
[@300,2300:2300='.',<'.'>,59:38]
[@301,2301:2317='myLocalPathPrefix',<Identifier>,59:39]
[@302,2319:2319='+',<'+'>,59:57]
[@303,2321:2324='href',<Identifier>,59:59]
[@304,2325:2325=')',<')'>,59:63]
[@305,2326:2326=';',<';'>,59:64]
[@306,2332:2332='}',<'}'>,60:4]
[@307,2337:2337='}',<'}'>,61:3]
[@308,2342:2357='myHyperlinkStack',<Identifier>,62:3]
[@309,2358:2358='[',<'['>,62:19]
[@310,2359:2378='myHyperlinkStackSize',<Identifier>,62:20]
[@311,2379:2380='++',<'++'>,62:40]
[@312,2381:2381=']',<']'>,62:42]
[@313,2383:2383='=',<'='>,62:44]
[@314,2385:2397='hyperlinkType',<Identifier>,62:46]
[@315,2398:2398=';',<';'>,62:59]
[@316,2403:2413='modelReader',<Identifier>,63:3]
[@317,2414:2414='.',<'.'>,63:14]
[@318,2415:2433='addHyperlinkControl',<Identifier>,63:15]
[@319,2434:2434='(',<'('>,63:34]
[@320,2435:2447='hyperlinkType',<Identifier>,63:35]
[@321,2448:2448=',',<','>,63:48]
[@322,2450:2453='link',<Identifier>,63:50]
[@323,2454:2454=')',<')'>,63:54]
[@324,2455:2455=';',<';'>,63:55]
[@325,2459:2459='}',<'}'>,64:2]
[@326,2461:2464='else',<'else'>,64:4]
[@327,2466:2466='{',<'{'>,64:9]
[@328,2471:2486='myHyperlinkStack',<Identifier>,65:3]
[@329,2487:2487='[',<'['>,65:19]
[@330,2488:2507='myHyperlinkStackSize',<Identifier>,65:20]
[@331,2508:2509='++',<'++'>,65:40]
[@332,2510:2510=']',<']'>,65:42]
[@333,2512:2512='=',<'='>,65:44]
[@334,2514:2523='FBTextKind',<Identifier>,65:46]
[@335,2524:2524='.',<'.'>,65:56]
[@336,2525:2531='REGULAR',<Identifier>,65:57]
[@337,2532:2532=';',<';'>,65:64]
[@338,2536:2536='}',<'}'>,66:2]
[@339,2540:2544='final',<'final'>,67:2]
[@340,2546:2551='String',<Identifier>,67:8]
[@341,2553:2556='name',<Identifier>,67:15]
[@342,2558:2558='=',<'='>,67:20]
[@343,2560:2572='xmlattributes',<Identifier>,67:22]
[@344,2573:2573='.',<'.'>,67:35]
[@345,2574:2581='getValue',<Identifier>,67:36]
[@346,2582:2582='(',<'('>,67:44]
[@347,2583:2588='"name"',<StringLiteral>,67:45]
[@348,2589:2589=')',<')'>,67:51]
[@349,2590:2590=';',<';'>,67:52]
[@350,2594:2595='if',<'if'>,68:2]
[@351,2597:2597='(',<'('>,68:5]
[@352,2598:2601='name',<Identifier>,68:6]
[@353,2603:2604='!=',<'!='>,68:11]
[@354,2606:2609='null',<'null'>,68:14]
[@355,2610:2610=')',<')'>,68:18]
[@356,2612:2612='{',<'{'>,68:20]
[@357,2617:2627='modelReader',<Identifier>,69:3]
[@358,2628:2628='.',<'.'>,69:14]
[@359,2629:2645='addHyperlinkLabel',<Identifier>,69:15]
[@360,2646:2646='(',<'('>,69:32]
[@361,2647:2652='reader',<Identifier>,69:33]
[@362,2653:2653='.',<'.'>,69:39]
[@363,2654:2670='myReferencePrefix',<Identifier>,69:40]
[@364,2672:2672='+',<'+'>,69:58]
[@365,2674:2677='name',<Identifier>,69:60]
[@366,2678:2678=')',<')'>,69:64]
[@367,2679:2679=';',<';'>,69:65]
[@368,2683:2683='}',<'}'>,70:2]
[@369,2686:2686='}',<'}'>,71:1]
[@370,2690:2698='protected',<'protected'>,73:1]
[@371,2700:2703='void',<'void'>,73:11]
[@372,2705:2711='doAtEnd',<Identifier>,73:16]
[@373,2712:2712='(',<'('>,73:23]
[@374,2713:2723='XHTMLReader',<Identifier>,73:24]
[@375,2725:2730='reader',<Identifier>,73:36]
[@376,2731:2731=')',<')'>,73:42]
[@377,2733:2733='{',<'{'>,73:44]
[@378,2737:2740='byte',<'byte'>,74:2]
[@379,2742:2745='kind',<Identifier>,74:7]
[@380,2747:2747='=',<'='>,74:12]
[@381,2749:2764='myHyperlinkStack',<Identifier>,74:14]
[@382,2765:2765='[',<'['>,74:30]
[@383,2766:2767='--',<'--'>,74:31]
[@384,2768:2787='myHyperlinkStackSize',<Identifier>,74:33]
[@385,2788:2788=']',<']'>,74:53]
[@386,2789:2789=';',<';'>,74:54]
[@387,2793:2794='if',<'if'>,75:2]
[@388,2796:2796='(',<'('>,75:5]
[@389,2797:2800='kind',<Identifier>,75:6]
[@390,2802:2803='!=',<'!='>,75:11]
[@391,2805:2814='FBTextKind',<Identifier>,75:14]
[@392,2815:2815='.',<'.'>,75:24]
[@393,2816:2822='REGULAR',<Identifier>,75:25]
[@394,2823:2823=')',<')'>,75:32]
[@395,2825:2825='{',<'{'>,75:34]
[@396,2830:2835='reader',<Identifier>,76:3]
[@397,2836:2836='.',<'.'>,76:9]
[@398,2837:2850='getModelReader',<Identifier>,76:10]
[@399,2851:2851='(',<'('>,76:24]
[@400,2852:2852=')',<')'>,76:25]
[@401,2853:2853='.',<'.'>,76:26]
[@402,2854:2863='addControl',<Identifier>,76:27]
[@403,2864:2864='(',<'('>,76:37]
[@404,2865:2868='kind',<Identifier>,76:38]
[@405,2869:2869=',',<','>,76:42]
[@406,2871:2875='false',<BooleanLiteral>,76:44]
[@407,2876:2876=')',<')'>,76:49]
[@408,2877:2877=';',<';'>,76:50]
[@409,2881:2881='}',<'}'>,77:2]
[@410,2884:2884='}',<'}'>,78:1]
[@411,2886:2886='}',<'}'>,79:0]
[@412,2888:2887='<EOF>',<EOF>,80:0]
